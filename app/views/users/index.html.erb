<p id="notice"><%= notice %></p>

<h1><%= t('pages.button.all_users') %></h1>


<div class="container text-center">
  <table class="table table-striped table-hover table-borderless table-responsive" >
    <thead class="table-primary">
    <tr>
      <th scope="col"><%= t('pages.table.surname') %></th>
      <th scope="col"><%= t('pages.table.name') %></th>
      <th scope="col"><%= t('pages.table.patronymic') %></th>
      <th scope="col"><%= t('pages.table.date') %></th>
      <th scope="col"><%= t('pages.table.phone') %></th>
      <th scope="col"><%= t('pages.table.login') %></th>
      <th scope="col"><%= t('pages.table.email') %></th>
      <th scope="col"><%= t('pages.table.position') %></th>
      <th colspan="3"></th>
    </tr>
    </thead>

    <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.surname %></td>
        <td><%= user.name %></td>
        <td><%= user.patronymic %></td>
        <td><%= user.date_employment %></td>
        <td><%= user.phone %></td>
        <td><%= user.login %></td>
        <td><%= user.email %></td>
        <td><%= user.position.name %></td>
        <td><%= link_to t('pages.button.view'), user, type: 'button', class: 'btn btn-outline-info btn-sm' %></td>

        <td><%= link_to t('pages.button.edit'), edit_user_path(user), type: 'button',
                        class: 'btn btn-outline-info btn-sm' if policy(user).edit? %></td>

        <td><%= link_to t('pages.button.delete'), user, method: :delete, data: { confirm: t('pages.confirmation') },
                        type: 'button', class: 'btn btn-outline-danger btn-sm' if policy(user).destroy? %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>

<br>

<%= link_to t('pages.button.user_new'), new_user_path, type: 'button', class: 'btn btn-outline-info' if policy(:user).new? %>
<%= link_to t('pages.button.back_to_positions'), positions_path, type: 'button', class: 'btn btn-outline-info' %>
<%= link_to t('pages.button.download'), users_path(format: :xlsx), type: 'button', class: 'btn btn-outline-success' %>
